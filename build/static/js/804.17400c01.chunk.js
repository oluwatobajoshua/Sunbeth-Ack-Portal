"use strict";(self.webpackChunksunbeth_portal_react_ts=self.webpackChunksunbeth_portal_react_ts||[]).push([[804],{2804:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var a=n(5043),i=n(3216),s=n(579);const r=()=>{const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(""),[o,d]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),u=(0,i.Zp)();(0,i.zy)();return(0,s.jsxs)("div",{className:"container",style:{maxWidth:400,margin:"0 auto",padding:32},children:[(0,s.jsx)("h2",{children:"Sign In"}),(0,s.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),d(null),c(!0);try{if(e.endsWith("@yourcompany.com"))return void(window.location.href="/");const t=await fetch("/api/external-users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:n})}),a=await t.json();if(!t.ok)throw new Error(a.error||"Login failed");if(a.mfaRequired)return void u("/mfa?email=".concat(encodeURIComponent(e)));u("/")}catch(t){d(t.message||"Login failed")}finally{c(!1)}},children:[(0,s.jsx)("div",{style:{marginBottom:16},children:(0,s.jsx)("input",{type:"email",placeholder:"Email address",value:e,onChange:e=>t(e.target.value),required:!0,style:{width:"100%",padding:8},autoFocus:!0})}),!e.endsWith("@yourcompany.com")&&(0,s.jsx)("div",{style:{marginBottom:16},children:(0,s.jsx)("input",{type:"password",placeholder:"Password",value:n,onChange:e=>r(e.target.value),required:!0,style:{width:"100%",padding:8}})}),o&&(0,s.jsx)("div",{style:{color:"red",marginBottom:12},children:o}),(0,s.jsx)("button",{className:"btn",type:"submit",disabled:l,style:{width:"100%"},children:l?"Signing in...":"Sign In"})]}),(0,s.jsx)("div",{style:{marginTop:16,textAlign:"center"},children:(0,s.jsx)("a",{href:"/forgot-password",children:"Forgot password?"})})]})}}}]);
//# sourceMappingURL=804.17400c01.chunk.js.map